---
name: commit-helper
description: Git 변경 사항을 분석하여 이모지가 포함된 Conventional Commit 메시지를 생성합니다. 사용자가 “커밋 메시지 작성해줘”, “커밋 만들어줘”, Conventional Commit 형식과 이모지를 사용해 커밋해야 할 때 사용합니다.
---

# Commit Helper

## 개요 (Overview)

Git의 **staged / unstaged 변경 사항을 자동으로 분석**하여
이모지가 포함된 **Conventional Commit 메시지**를 생성하고,
**사용자 확인 후 커밋을 실행**합니다. 
주요 변경 내용도 커밋 메시지에 반영합니다.

---

## 커밋 메시지 규칙 (Commit Message Convention)

다음 커밋 타입과 이모지를 사용합니다:

* ✨ **feat**: 새로운 기능 추가
* 🐛 **fix**: 버그 수정
* 📝 **docs**: 문서 변경 (README, 주석 등)
* ♻️ **refactor**: 기능 변경 없는 코드 리팩토링
* ✅ **test**: 테스트 코드 추가 또는 수정
* 🔧 **chore**: 설정 변경, 의존성, 빌드 스크립트 등

### 커밋 메시지 형식

```
<이모지> <type>: <설명>
```

---

## 워크플로우 (Workflow)

### Step 1: 변경 사항 분석

현재 Git 상태를 파악하기 위해 다음 명령어들을 실행합니다:

```bash
git status
git diff
git diff --staged
```

분석 항목:

* 어떤 파일이 **추가 / 수정 / 삭제**되었는지
* 변경의 성격 (기능, 버그, 문서, 리팩토링 등)
* 어떤 파일이 이미 **staged 상태인지**

---

### Step 2: 커밋 타입 결정 및 메시지 작성

변경 사항 분석 결과를 바탕으로 다음을 수행합니다.

#### 1️⃣ 주요 변경 타입 식별

* 새로운 기능 → `✨ feat`
* 버그 수정 → `🐛 fix`
* 문서 변경만 존재 → `📝 docs`
* 구조 개선 / 리팩토링 → `♻️ refactor`
* 테스트 코드 변경 → `✅ test`
* 설정 / 도구 / 의존성 변경 → `🔧 chore`

#### 2️⃣ 커밋 메시지 설명 작성 규칙

* **항상 한국어로 작성**
* WHAT(무엇을) + WHY(왜)를 중심으로 작성
* HOW(구현 방법)는 포함하지 않음
* 명령형 사용 (`추가`, `수정`, `개선`)
* 72자 이내
* 간결하지만 구체적으로 작성

#### 3️⃣ 사용자 확인

* 생성된 커밋 메시지를 **반드시 사용자에게 먼저 제시**
* 사용자의 **명시적 승인 이후에만 커밋 진행**

---

### Step 3: 파일 스테이징 (필요 시)

커밋 대상 파일이 아직 staged 상태가 아니라면:

```bash
git add <files>
```

* 커밋 메시지와 **직접적으로 관련된 파일만** 스테이징

---

### Step 4: 커밋 실행

사용자가 커밋 메시지를 승인하면 다음 명령을 실행합니다:

```bash
git commit -m "<이모지> <type>: <설명>"
```

커밋 완료 후 상태 확인:

```bash
git status
```

---

## 중요 규칙 (Important Notes)

* ✅ 커밋 메시지 설명은 **항상 한국어**
* ✅ 주요 변경 내용도 커밋 메시지에 반영
* ✅ `git diff` 분석 없이 커밋 메시지를 추측하지 않음
* ✅ **한 커밋에는 하나의 타입만 사용**

  * 여러 종류의 변경이 섞여 있으면 어떤 것을 먼저 커밋할지 사용자에게 질문
* ✅ **사용자 확인 없이 커밋 금지**
* ✅ 커밋과 무관한 파일 스테이징 금지
* ❌ **자동 push 금지**

  * push는 사용자가 명시적으로 요청한 경우에만 수행